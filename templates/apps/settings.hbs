{{!-- Spellbooks --}}
<form autocomplete="off" onsubmit="event.preventDefault();">
  <div class="form-group stacked">
    <div class="flexrow">
      <h2>{{localize "PF1.SpellbookUsage"}}</h2>
    </div>
    {{#each spellbookData as |spellbook a|}}
      <label class="checkbox">
        <input type="checkbox" {{checked spellbook.orig.inUse}} name="spellbook-{{a}}-inuse"/> {{spellbook.orig.name}}
      </label>
    {{/each}}
  </div>
  <div class="form-group stacked">
    <div class="flexrow">
      <h2>{{localize "PF1.AbilityScoreLinks"}}</h2>
    </div>
    {{!-- Hit Points --}}
    <div class="flexrow">
      <label class="cell left-label half">{{localize "PF1.HitPoints"}}</label>
      <select name="hpAbility" class="cell midsize-cell half">
        {{#select data.attributes.hpAbility}}
          <option value=""></option>
          {{#each config.abilities as |ability a|}}
            <option value="{{a}}">{{ability}}</option>
          {{/each}}
        {{/select}}
      </select>
    </div>
    <div class="flexrow">
      <h3>{{localize "PF1.Combat"}}</h3>
    </div>
    {{!-- Initiative --}}
    <div class="flexrow">
      <label class="cell left-label half">{{localize "PF1.Initiative"}}</label>
      <select name="data.attributes.init.ability" class="cell midsize half">
        {{#select data.attributes.init.ability}}
          <option value=""></option>
          {{#each config.abilities as |label value|}}
            <option value="{{value}}">{{label}}</option>
          {{/each}}
        {{/select}}
      </select>
    </div>
    {{!-- CMB --}}
    <div class="flexrow">
      <label class="cell left-label half">{{localize "PF1.CMB"}}</label>
      <select name="cmbAbility" class="cell midsize half">
        {{#select data.attributes.cmbAbility}}
          <option value=""></option>
          {{#each config.abilities as |label value|}}
            <option value="{{value}}">{{label}}</option>
          {{/each}}
        {{/select}}
      </select>
    </div>
    {{!-- Melee --}}
    <div class="flexrow">
      <label class="cell left-label half">{{localize "PF1.Melee"}}</label>
      <select name="meleeAbility" class="cell midsize half">
        {{#select data.attributes.attack.meleeAbility}}
          <option value=""></option>
          {{#each config.abilities as |label value|}}
            <option value="{{value}}">{{label}}</option>
          {{/each}}
        {{/select}}
      </select>
    </div>
    {{!-- Ranged --}}
    <div class="flexrow">
      <label class="cell left-label half">{{localize "PF1.Ranged"}}</label>
      <select name="rangedAbility" class="cell midsize half">
        {{#select data.attributes.attack.rangedAbility}}
          <option value=""></option>
          {{#each config.abilities as |label value|}}
            <option value="{{value}}">{{label}}</option>
          {{/each}}
        {{/select}}
      </select>
    </div>
    {{!-- Defense --}}
    <div class="flexrow">
      <h3>{{localize "PF1.Defense"}}</h3>
    </div>
    {{!-- ArmorClass --}}
    <div class="flexrow">
      <label class="cell left-label half">{{localize "PF1.ArmorClass"}}</label>
      <select name="data.attributes.ac.normal.ability" class="cell midsize half">
        {{#select data.attributes.ac.normal.ability}}
          <option value=""></option>
          {{#each config.abilities as |label value|}}
            <option value="{{value}}">{{label}}</option>
          {{/each}}
        {{/select}}
      </select>
    </div>
    {{!-- AC Touch --}}
    <div class="flexrow">
      <label class="cell left-label half">{{localize "PF1.ACTouch"}}</label>
      <select name="data.attributes.ac.touch.ability" class="cell midsize half">
        {{#select data.attributes.ac.touch.ability}}
          <option value=""></option>
          {{#each config.abilities as |label value|}}
            <option value="{{value}}">{{label}}</option>
          {{/each}}
        {{/select}}
      </select>
    </div>
    {{!-- CMD --}}
    <div class="flexrow">
      <label class="cell left-label half">{{localize "PF1.CMD"}}</label>
      <select name="data.attributes.cmd.dexAbility" class="cell midsize half">
        {{#select data.attributes.cmd.dexAbility}}
          <option value=""></option>
          {{#each config.abilities as |label value|}}
            <option value="{{value}}">{{label}}</option>
          {{/each}}
        {{/select}}
      </select>
    </div>
    {{!-- Saving Throws --}}
    <div class="flexrow">
      <h3>{{localize "PF1.SavingThrowPlural"}}</h3>
    </div>
    {{#each data.attributes.savingThrows as |savingThrow id|}}
      <div class="flexrow">
        <label class="cell left-label half">{{savingThrow.label}}</label>
        <select name="data.attributes.savingThrows.{{id}}.ability" class="cell midsize half">
          {{#select savingThrow.ability}}
            <option value=""></option>
            {{#each ../config.abilities as |label value|}}
              <option value="{{value}}">{{label}}</option>
            {{/each}}
          {{/select}}
        </select>
      </div>
    {{/each}}
  </div>

  {{!-- Optional Rules --}}
  <div class="form-group stacked">
    <div class="flexrow">
      <h2>{{localize "PF1.OptionalAndVariantRules"}}</h2>
    </div>
    <div class="flexrow">
      {{!-- Wound Thresholds --}}
      <label class="cell left-label half">{{localize "PF1.WoundThresholdOverride"}}</label>
      <select class="cell midsize half" name="data.attributes.woundThresholds.override" {{#unless woundThresholds.allowWoundThresholdOverride}}disabled{{/unless}}>
          {{#select data.attributes.woundThresholds.override}}
            <option value="-1">{{localize 'PF1.Default'}}</option>
            <option value="0">{{localize 'SETTINGS.pf1HealthConfigWoundThresholdDisabled'}}</option>
            <option value="1">{{localize 'SETTINGS.pf1HealthConfigWoundThresholdNormal'}}</option>
            <option value="2">{{localize 'SETTINGS.pf1HealthConfigWoundThresholdGritty'}}</option>
          {{/select}}
      </select>
    </div>
  </div>
  {{!-- Links --}}
  {{#if actorLinkEnabled}}
  <div class="form-group stacked">
    <div class="flexrow">
      <h2>{{localize "PF1AS.Links.Header"}}</h2>
    </div>
    <div class="flexrow">
      <label class="cell left-label half">{{localize "PF1AS.Links.Mode"}}</label>
      <select class="cell midsize half" name="altSheet.links.mode">
          {{#select altSheet.links.mode}}
            <option value="none">{{localize 'PF1AS.Links.ModeNone'}}</option>
            <option value="familiar">{{localize 'PF1AS.Links.ModeFamiliar'}}</option>
          {{/select}}
      </select>
    </div>
  </div>
  {{/if}}
  {{#if isGM}}
    <div class="form-group stacked">
    {{!-- Tooltip Settings --}}
      <div class="flexrow">
          <h2>{{localize "PF1.TooltipConfigName"}}</h2>
      </div>

      <div class="flexrow">
          <label class="cell left-label half">{{localize "PF1.Name"}}</label>
          <input class="cell midsize half"  type="text" name="data.details.tooltip.name" placeholder="{{token.name}}" value="{{data.details.tooltip.name}}" />
      </div>

      <div class="flexrow">
        <label class="checkbox">
          <input type="checkbox" name="data.details.tooltip.hideHeld" {{checked actor.data.details.tooltip.hideHeld}}/> {{localize "PF1.HideHeld"}}
        </label>

        <label class="checkbox">
          <input type="checkbox" name="data.details.tooltip.hideArmor" {{checked actor.data.details.tooltip.hideArmor}}/> {{localize "PF1.HideArmor"}}
        </label>

        <label class="checkbox">
          <input type="checkbox" name="data.details.tooltip.hideBuffs" {{checked actor.data.details.tooltip.hideBuffs}}/> {{localize "PF1.HideBuffs"}}
        </label>

        <label class="checkbox">
          <input type="checkbox" name="data.details.tooltip.hideConditions" {{checked actor.data.details.tooltip.hideConditions}}/> {{localize "PF1.HideConditions"}}
        </label>

        <label class="checkbox">
          <input type="checkbox" name="data.details.tooltip.hideClothing" {{checked actor.data.details.tooltip.hideClothing}}/> {{localize "PF1.HideClothing"}}
        </label>

        <label class="checkbox">
          <input type="checkbox" name="data.details.tooltip.hideName" {{checked actor.data.details.tooltip.hideName}}/> {{localize "PF1.HideName"}}
        </label>
      </div>
    </div>
  {{/if}}
  <button type="submit" name="submit" value="1"><i class="far fa-save"></i> {{localize "PF1.Save"}}</button>
  <button type="submit" name="reset-config" value="2" title="{{localize "PF1AS.Config.ResetTooltip"}}"><i class="fas fa-backspace"></i> {{localize "PF1AS.Config.Reset"}}</button>
</form>
